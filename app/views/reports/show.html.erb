<title> TravelClip | <%= @report.title %> </title>


<h2 class="report_headline"><%= @report.title %></h2>
<div class="report_navigation">
  <%= link_to 'Back To Reports', reports_path %> | <%= link_to 'Edit', edit_report_path(@report) %>
</div>

<div class="report_container">
  <p class="report_category">
    <strong>category: </strong><%= @report.title %>
  </p>
  <p class="report_created_at"><%= @report.created_at.strftime("%b %d, %Y (%l:%M %p)") %></p>
  <p class="report_stars">
    <strong>stars: </strong><%= @report.title %>
  </p>
  <p class="report_body">
    <strong>about:</strong><%= @report.body %>
  </p>
</div>

<h4 class="gallery_headline">Report Gallery</h4>


<div class="gallery_container">
  <% @report.paintings.each do |rp| %>

      <div class="picture_container">
        <p class="image_title"><%= rp.name %></p>
        <div class="report_image"><%= image_tag rp.image.url(:medium) %></div>
      </div>
  <% end %>
</div>
<br>

<% if @reviews.blank? %>
    <h3>No reviews just, yet... Would you like to add the first?</h3>
    <%= link_to 'Write a new review', new_report_review_path(@report), class: 'btn btn-danger' %>
<% else %>
    <% @reviews.each do |review| %>
        <div class="review">
          <p><b><%= review.user.username %></b></p>
          <div class="star-rating" data-score=<%= review.rating %>></div>
          <p><%= review.comment %></p>
          <%= link_to 'Delete a review', report_review_path(id: review.id, report_id: review.report_id), method: :delete, data: {confirm: 'Are you sure?'} %>
        </div>
    <% end %>
    <%= link_to 'Write a new review', new_report_review_path(@report), class: 'btn btn-danger' %>
<% end %>

<script>

  $('.star-rating').raty({
    path: '/assets/',
    readOnly: true,
    score: function () {
      return $(this).attr('data-score');
      
    }
  });

</script>